webpackJsonp([13,19],{1:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.apiDomain="http://localhost:8000/";t.loginUrl=a+"oauth/token",t.userUrl=a+"api/user",t.siteAddUrl=a+"api/site",t.siteIndexUrl=a+"api/site",t.siteShowUrl=a+"api/site",t.siteShowAll=a+"api/sites",t.typeAnalyseAddUrl=a+"api/type_analyse",t.typeAnalyseIndexUrl=a+"api/type_analyse",t.typeAnalyseShowUrl=a+"api/type_analyse",t.typeAnalyseDeleteUrl=a+"api/type_analyse",t.paramTypeAnalyseShowUrl=a+"api/type_analyse/parametre",t.paramsAnalyse=a+"api/parametre_analyse",t.puitAddUrl=a+"api/puit",t.puitIndexUrl=a+"api/puit",t.puitShowUrl=a+"api/puit",t.echantillonUrl=a+"api/echantillon",t.echantillonsUrl=a+"api/echantillons",t.echantillonAll=a+"api/echantillon",t.laboratoireUrl=a+"api/laboratoire",t.paramUrl=a+"api/parametre",t.resultUrl=a+"api/echantillon/result",t.usersUrl=a+"api/users",t.AnalyseUrl=a+"api/analyse",t.echantillonCreate=a+"api/echantillon/create",t.echantillonDelete=a+"api/echantillon/delete",t.getHeader=function(){var e=JSON.parse(localStorage.getItem("authUser")),t={Accept:"application/json",Authorization:"Bearer "+e.access_token};return t}},70:function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(1),n=a(6),s=i(n);t.default={data:function(){return{value:[],ok:!1,parametresA:[],idPara:"",tab_params:[],users:[],echantillon:{id:null,description:"",idpuit:null,code:"",pfd_debut:"",pfd_fin:"",date_prelevement:"",couleur:"",structure:"",autre_info:""},detailEchantillon:{id:null,description:"",idpuit:null,code:"",pfd_debut:"",pfd_fin:"",date_prelevement:"",couleur:"",structure:"",autre_info:""},analyse:{id:null,type:"",appareillage:"",protocole:"",technique:"",description:"",labo:"",user:""},laboratoire:{id:null,nom:"",ville:"",lng:"",lat:""},error:{technique:!1,protocole:!1,appareillage:!1,autre_info:!1}}},computed:{},ready:function(){},attached:function(){},methods:{getAnalyse:function(){var e=this;this.$http.get(l.typeAnalyseAddUrl,{headers:(0,l.getHeader)()}).then(function(t){s.default.success("Connection au serveur établie"),e.typeAnalyses=t.body.analyse,console.log("params"),e.parametresA=t.body.analyse,console.log(e.parametresA)},function(t){e.sending=!1,s.default.error("Erreur  de chargement des analyses")})},getEchantillon:function(){var e=this;this.$http.get(l.echantillonUrl+"/"+this.echantillon.id).then(function(t){console.log("echantillon chargé!!"),e.echantillon=t.body},function(e){s.default.error("Impossible d'obtenir l'echantillon Sélectionné")})},getLaboratoire:function(){var e=this;this.$http.get(l.laboratoireUrl).then(function(t){console.log("laboratoires chargés!!"),console.log(t.body),e.laboratoire=t.body},function(e){s.default.error("Impossible d'obtenir les laboratoires")})},getUsers:function(){var e=this;this.$http.get(l.usersUrl).then(function(t){console.log("users chargés!!"),console.log(t.body),e.users=t.body},function(e){s.default.error("Impossible d'obtenir les utilisateurs")})},AddAnalyse:function(e,t){console.log(e),console.log(t)}},watch:{idPara:function(e){var t=this;this.ok=!0,this.$http.get(l.paramsAnalyse+"/"+e).then(function(e){s.default.success("chargement en cours..."),console.log("paramètreAnalyse"+e.body),console.log(e.body),t.tab_params=e.body},function(e){s.default.error("Impossible de charger les paramètres")})}},mounted:function(){this.echantillon.id=this.$route.params.idech,console.log(this.echantillon.id),this.getAnalyse(),this.getEchantillon()},components:{}}},144:function(e,t,a){t=e.exports=a(4)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"Add.vue",sourceRoot:"webpack://"}])},170:function(e,t,a){var i=a(144);"string"==typeof i&&(i=[[e.id,i,""]]);a(5)(i,{});i.locals&&(e.exports=i.locals)},184:function(e,t,a){var i,l;a(170),i=a(70);var n=a(221);l=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(l=i=i.default),"function"==typeof l&&(l=l.options),l.render=n.render,l.staticRenderFns=n.staticRenderFns,e.exports=i},221:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fluid",staticStyle:{padding:"20px"}},[a("div",{},[a("div",{staticClass:"ui teal dividing header"},[a("i",{staticClass:"filter icon"}),e._v(" "),a("div",{staticClass:"content"},[e._v("\n               Echantillon "),a("div",{staticClass:"sub header"},[e._v("  Code: "),a("b",[a("u",[e._v(e._s(e.echantillon.code))])])]),e.sending?a("i",{staticClass:"spinner large loading icon",staticStyle:{position:"absolute",top:"10px",right:"10px"}}):e._e()])]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"ui vertically divided grid"},[a("div",{staticClass:"two column row"},[a("div",{staticClass:"six wide column"},[a("h3",[e._v("Ajout resultat d'analyse")]),e._v(" "),a("form",{staticClass:"ui form"},[a("div",{staticClass:"field"},[a("label",[e._v("Choisir le type d'analyse")]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.idPara,expression:"idPara"}],staticClass:"ui fluid search dropdown",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.idPara=t.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[e._v("Choisir 1")]),e._v(" "),e._l(e.parametresA,function(t){return a("option",[e._v(e._s(t.type))])})],2)]),e._v(" "),a("button",{staticClass:"ui primary button",attrs:{type:"submit"},on:{click:function(t){t.preventDefault(),e.AddAnalyse(t)}}},[e._v("Terminer")])])]),e._v(" "),a("div",{staticClass:"column"},[e.sending?a("i",{staticClass:"spinner large loading icon",staticStyle:{position:"absolute",top:"10px",right:"10px"}}):e._e(),e._v(" "),a("h2",[e._v("les paramètres de la "+e._s(e.idPara))]),e._v(" "),a("table",{staticClass:"ui celled table"},[e._m(0),e._v(" "),a("tbody",e._l(e.tab_params,function(t){return a("tr",{staticClass:"ui form"},[a("td",[a("div",{staticClass:"ui ribbon label"},[e._v(e._s(t.id))])]),e._v(" "),a("td",[e._v(e._s(t.nom))]),e._v(" "),a("td",[a("div",{staticClass:"field",class:{error:e.parametre_nom_error}},[a("input",{attrs:{type:"text",name:"value",placeholder:"Nom du paramètre"}})])]),e._v(" "),a("td",[a("button",{staticClass:"ui primary button",attrs:{type:"submit"},on:{click:function(a){a.preventDefault(),e.AddAnalyse(t,e.value)}}},[a("i",{staticClass:"plus icon"})])])])}))])])])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("#")]),e._v(" "),a("th",[e._v("Parametre")]),e._v(" "),a("th",[e._v("valeur")]),e._v(" "),a("th",[e._v("valider")])])])}]}}});
//# sourceMappingURL=13.5513e733fd97b02a2a6d.js.map